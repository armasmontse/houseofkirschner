{"version":3,"sources":["webpack:///webpack/bootstrap 628d1ebef4092f13ccfa","webpack:///./es6/micorriza-admin.js","webpack:///./es6/admin/featured-image.js","webpack:///./es6/admin/file-upload.js"],"names":["$","jQuery","document","ready","on","e","the_id","closest","attr","css","hide","inputCheck","find","val","each","meta_image_frame","preventDefault","open","wp","media","frames","title","multiple","library","type","media_set_image","selection","state","get","attachment","id","attributes","thumbnail","sizes","url","html","$featured_images","length","set_featured_image","$open","full","$featured","show","unset_featured_image","metaboxUploadInterface","config","library_opts","WPLibraryOpts","upload_button","upload_button_selector","onSelection","forEach","onSelectionForEach","afterSelectionForEach","onRemoveHandler","metaboxUploadFiles","upload","upload_id","$upload","add_button_selector","delete_button_selector","input_id_selector","input_filename_selector","success_selector","console","log","media_set_file","file_id","filename","text","fileUploadConfig","id_input","filename_input","notification","removeButton","remove_button","off","defaultFileUploadConfig","window","load"],"mappings":"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","file":"admin-functions.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 628d1ebef4092f13ccfa","// import './admin/gallery'\n// import './admin/hex-color-text-input'\n// import './admin/sortable-tables'\nimport './admin/featured-image'\nimport {defaultFileUploadConfig} from './admin/file-upload'\n// defaultFileUploadConfig()\n\n// defaultFileUploadConfig()\n\n\n\n// WEBPACK FOOTER //\n// ./es6/micorriza-admin.js","const $ = jQuery\n// Banners - Eliminar Item\njQuery(document).ready(function($) {\n\t$('#table__banners').on('click','.reset',function(e){\n\t\tvar the_id = $(this).closest('tr').attr('id');\n\t\t$('#table__banners #'+the_id+' .media-button').css('display','block');\n\t\t$('#table__banners #'+the_id+' img').hide();\n\t\t$(this).hide();\n\t});\n});\n\n// Banners - Desplegar Imágenes\njQuery(document).ready(function($){\n\tfunction inputCheck() {\n\t\tif ( $(this).find('input').val() !== '' ) {\n\t\t\t$(this).find('button').css('display','none');\n\t\t} else {\n\t\t\t$(this).find('button').css('display','block');\n\t\t}\n\t}\n\t$('tr.banner_row').each(inputCheck);\n});\n// Featured Image - Escoger Imagen de Item\njQuery(document).ready(function($){\n\tvar meta_image_frame;\n\n\t$('#table__banners').on('click','.media-button',function(e){\n\n\t\tvar the_id = $(this).closest('tr').attr('id');\n\t\t// console.log(the_id);\n\n\t\te.preventDefault();\n\n\t\tif ( meta_image_frame ) {\n\t\t\tmeta_image_frame.open();\n\t\t\treturn;\n\t\t}\n\n\t\t// Sets up the media library frame\n\t\tvar meta_image_frame = wp.media.frames.meta_image_frame = wp.media({\n\t\t\ttitle: \"Agregar Imagen\",\n\t\t\tmultiple: false,\n\t\t\tlibrary: {type: 'image'}\n\t\t});\n\n\t\tvar media_set_image = function() {\n\t\t\tvar selection = wp.media.frames.meta_image_frame.state().get('selection');\n\n\t\t\tif (!selection) { return;} // No selection\n\n\t\t\t// Iterate through selected elements\n\t\t\tselection.each(function(attachment) {\n\t\t\t\tvar id = attachment.attributes.id;\n\t\t\t\tvar thumbnail = attachment.attributes.sizes.thumbnail.url;\n\t\t\t\t$('#table__banners #'+the_id+' .media-input').val(id);\n\t\t\t\t$('#table__banners #'+the_id+' .media-button').css('display','none');\n\t\t\t\t$('#table__banners #'+the_id+' .thumbnail_holder').html('<div class=\"reset\">&#10005;</div><img width=\"100\" src=\"'+thumbnail+'\"><button class=\"button media-button\" style=\"display:none;\">Elegir Imagen</button>');\n\t\t\t});\n\t\t};\n\n\t\twp.media.frames.meta_image_frame.on('close', media_set_image); // Closing event for media manger\n\t\twp.media.frames.meta_image_frame.on('select', media_set_image); // Image selection event\n\t\twp.media.frames.meta_image_frame.open(); // Showing media manager\n\n\t});\n});\n\njQuery(document).ready(function($) {\n\tvar $featured_images = $(\".featured_image_JS\");\n\n\tif ($featured_images.length > 0) {\n\n\t\tvar set_featured_image = function(e){\n\n\t\t\te.preventDefault();\n\n\t\t\tif (meta_image_frame) {\n\t\t\t\tmeta_image_frame.open();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Sets up the media library frame\n\t\t\tvar meta_image_frame = wp.media.frames.meta_image_frame = wp.media({\n\t\t\t\t// title: \"Agregar Imagen\",\n\t\t\t\tmultiple: false,\n\t\t\t\tlibrary: { type: 'image' }\n\t\t\t}),\n\t\t\t\t$open = $(this),\n\t\t\t\tmedia_set_image = function() {\n\t\t\t\tvar selection = wp.media.frames.meta_image_frame.state().get('selection');\n\n\t\t\t\tif (!selection) {\n\t\t\t\t\treturn;\n\t\t\t\t} // No selection\n\n\t\t\t\t// Iterate through selected elements\n\t\t\t\tselection.each(function (attachment) {\n\t\t\t\t\tvar id = attachment.attributes.id,\n\t\t\t\t\t\tthumbnail = attachment.attributes.sizes.full.url,\n\t\t\t\t\t\t$featured = $open.closest(\".featured_image_JS\");\n\n\t\t\t\t\t$featured.find(\".featured_image-input_JS\").val(id);\n\t\t\t\t\t$featured.find(\".featured_image-image_JS\").attr(\"src\",thumbnail);\n\n\t\t\t\t\t$featured.find(\".featured_image-howto_JS\").show();\n\t\t\t\t\t$featured.find(\".featured_image-remove_JS\").show();\n\t\t\t\t\t$featured.find(\".featured_image-image_JS\").show();\n\t\t\t\t\t$featured.find(\".featured_image-add_JS\").hide();\n\t\t\t\t});\n\t\t\t};\n\n\t\t\twp.media.frames.meta_image_frame.on('select', media_set_image); // Image selection event\n\t\t\twp.media.frames.meta_image_frame.open(); // Showing media manager\n\t\t},\n\n\t\tunset_featured_image = function(e){\n\t\t\te.preventDefault();\n\t\t\tvar $featured = $(this).closest(\".featured_image_JS\");\n\t\t\t$featured.find(\".featured_image-input_JS\").val(\"\");\n\t\t\t$featured.find(\".featured_image-image_JS\").attr(\"src\",\"\");\n\n\t\t\t$featured.find(\".featured_image-howto_JS\").hide();\n\t\t\t$featured.find(\".featured_image-add_JS\").show();\n\t\t\t$featured.find(\".featured_image-image_JS\").hide();\n\t\t\t$(this).hide();\n\t\t} ;\n\n\t\t$featured_images.on(\"click\", \".featured_image-add_JS\",set_featured_image);\n\t\t$featured_images.on(\"click\", \".featured_image-image_JS\",set_featured_image);\n\t\t$featured_images.on(\"click\", \".featured_image-remove_JS\",unset_featured_image);\n\t}\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./es6/admin/featured-image.js","const $ = jQuery\n//metaboxUploadInterface:: Obj config {\n\t//\t\tWPLibraryOpts {String title, Bool multiple, Obj library}, //con defaults\n\t//\t\tupload_button_selector,\n\t//\t\tonSelectionForEach(attachment),\n\t//\t\tafterSelectionForEach(selection),\n\t//\t\tonRemoveHandler(selection)\n\t//\t} -> I/O\n\t//\n\t// OJO: onRemoveHandler corre dos veces (init y después de la seleccion) así que hay que cuidar de no hacer demasiados demasiados listeners... usar $(selector).off('click') antes del $(selector).on('click' para devincular y no duplicar listeners.\nexport var metaboxUploadInterface = function(config) {\n\n\t\t\tvar library_opts = config.WPLibraryOpts || {};\n\n\t\t\t//setup\n\t\t\tvar upload_button = $(config.upload_button_selector);\n\n\t\t\tvar meta_image_frame = wp.media.frames.meta_image_frame = wp.media({\n\t\t\t\ttitle: library_opts.title || \"Agregar Archivo\",\n\t\t\t\tmultiple: library_opts.multiple  || false,\n\t\t\t\tlibrary: library_opts.library || {}\n\t\t\t});\n\n\t\t\tvar onSelection = function() {\n\t\t\t\tvar selection = wp.media.frames.meta_image_frame.state().get('selection');\n\t\t\t\tif (!selection) { return;}\n\t\t\t\tselection.forEach(function(attachment) {\n\t\t\t\t\tconfig.onSelectionForEach(attachment);\n\t\t\t\t});\n\n\t\t\t\tif (typeof config.afterSelectionForEach === 'function') {\n\t\t\t\t\tconfig.afterSelectionForEach(selection);\n\t\t\t\t}\n\t\t\t\tif (typeof config.onRemoveHandler === 'function') {\n\t\t\t\t\tconfig.onRemoveHandler(selection);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t//register click handlers\n\t\t\tif (upload_button.length > 0 && meta_image_frame) {\n\t\t\t\tupload_button.on('click', function() {\n\t\t\t\t\tmeta_image_frame.open();\n\t\t\t\t});\n\n\t\t\t\tif (typeof config.onRemoveHandler === 'function') {\n\t\t\t\t\tconfig.onRemoveHandler();\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//register WPLibrary onSelection event handler\n\t\t\twp.media.frames.meta_image_frame.on('select', onSelection); // Image selection event\n\n\t};\n\n\nexport var metaboxUploadFiles = function() {\n\n\t$(\"body\").find(\".fileUpload_row_JS\").each(function(upload){\n\n\t\tvar upload_id \t\t\t\t\t= this.id,\n\t\t\t$upload\t\t\t\t\t\t= $(this),\n\t\t\tadd_button_selector \t\t= '.cltvo_upload_JS',\n\t\t\tdelete_button_selector \t\t= '.cltvo_remove_upload_JS',\n\n\t\t\tinput_id_selector\t \t\t= '.cltvo_file_id_input_JS',\n\t\t\tinput_filename_selector\t\t= '.cltvo_filename_input_JS',\n\n\t\t\tsuccess_selector\t\t= '.fileUpload__success_JS'\n\t\t\t;\n\n\t\tconsole.log(\"upload \"+upload_id+' found' );\n\t\t$upload.on(\"click\", add_button_selector , function(e){\n\t\t\te.preventDefault();\n\n\t\t\tif (meta_image_frame) {\n\t\t\t\tmeta_image_frame.open();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Sets up the media library frame\n\t\t\tvar meta_image_frame = wp.media.frames.meta_image_frame = wp.media({\n\t\t\t\tmultiple: false,\n\t\t\t\tlibrary: {  }\n\t\t\t}),\n\t\t\tmedia_set_file = function() {\n\t\t\t\tvar selection = wp.media.frames.meta_image_frame.state().get('selection');\n\n\t\t\t\tif (!selection) {\n\t\t\t\t\treturn;\n\t\t\t\t} // No selection\n\n\t\t\t\t// Iterate through selected elements\n\t\t\t\tselection.each(function (attachment) {\n\t\t\t\t\tvar file_id = attachment.attributes.id,\n\t\t\t\t\t\tfilename = attachment.attributes.filename;\n\n\t\t\t\t\t$upload.find(input_id_selector).val(file_id);\n\t\t\t\t\t$upload.find(input_filename_selector).val(filename);\n\t\t\t\t\t$upload.find(success_selector).text(filename).show();\n\n\t\t\t\t\t$upload.find(add_button_selector).hide();\n\t\t\t\t\t$upload.find(delete_button_selector).show();\n\t\t\t\t});\n\t\t\t};\n\n\t\t\twp.media.frames.meta_image_frame.on('select', media_set_file); // Image selection event\n\t\t\twp.media.frames.meta_image_frame.open();\n\t\t});\n\n\t\t$upload.on(\"click\", delete_button_selector , function(){\n\t\t\t$upload.find(input_id_selector).val('');\n\t\t\t$upload.find(input_filename_selector).val('');\n\t\t\t$upload.find(success_selector).hide();\n\n\t\t\t$(this).hide();\n\t\t\t$upload.find(add_button_selector).show();\n\t\t});\n\t});\n};\n\nexport var fileUploadConfig = {\n\t\tupload_button_selector: '.cltvo_upload_JS',\n\n\t\tonSelectionForEach: function(attachment) {\n\t\t\tvar filename = attachment.attributes.filename;\n\t\t\tvar file_id = attachment.id;\n\t\t\tvar id_input = $('.cltvo_file_id_input_JS');\n\t\t\tvar filename_input = $('.cltvo_filename_input_JS');\n\t\t\tvar upload_button = $('.cltvo_upload_JS');\n\t\t\tvar notification = $('.fileUpload__success_JS');\n\n\t\t\tvar removeButton = $('.cltvo_remove_upload_JS');\n\n\t\t\tupload_button.hide();\n\t\t\tid_input.val(file_id);\n\t\t\tfilename_input.val(filename);\n\t\t\tnotification.text(filename).show();\n\t\t\tremoveButton.show();\n\t\t},\n\n\t\tonRemoveHandler: function() {\n\t\t\tvar remove_button = $('.cltvo_remove_upload_JS');\n\t\t\tremove_button.off('click');\n\t\t\tremove_button.on('click', function() {\n\t\t\t\tremove_button.hide();\n\t\t\t\t$('.cltvo_file_id_input_JS').val('');\n\t\t\t\t$('.cltvo_filename_input_JS').val('');\n\t\t\t\t$('.fileUpload__success_JS').hide();\n\t\t\t\t$('.cltvo_upload_JS').show();\n\t\t\t});\n\t\t}\n\t};\n\n\nexport const  defaultFileUploadConfig = () => {\n\tjQuery(window).load(() => {\n\t\t// metaboxUploadInterface(fileUploadConfig)\n\t\tmetaboxUploadFiles();\n\t})\n}\n\n\n\n// WEBPACK FOOTER //\n// ./es6/admin/file-upload.js"],"sourceRoot":""}